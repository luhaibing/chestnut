buildscript {
    apply from: 'script/read-gradle-properties.gradle'
    repositories {
        google()
        jcenter()
    }
    dependencies {
        /*
         - Instances of Dependency.
         - String or CharSequence values, for example 'org.gradle:gradle-core:1.0'.
         - Maps, for example [group: 'org.gradle', name: 'gradle-core', version: '1.0'].
         - FileCollections, for example files('some.jar', 'someOther.jar').
         - Projects, for example project(':some:project:path').
         - ClassPathNotation, for example gradleApi().
         */
        classpath "com.android.tools.build:gradle:$gradle_version"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
    repositories {
        // 本地插件
        // maven { url uri("plugins") }
        maven { url uri(new File(rootDir, "plugins")) }
    }
    dependencies {
        classpath "com.mercer:magician:1.0.0"
    }
}

/*
plugins {
    id «plugin id» version «plugin version» [apply «false»]
}
*/

plugins {
    id "versions-management"
}

repositories {
    google()
    jcenter()
}

// 统一指定,就不需要每个子模块单独指定
group = "com.mercer"

subprojects {
    repositories {
        google()
        jcenter()
        // 本地依赖仓库
        // maven { url uri("dependencies") }
        maven { url uri(new File(rootDir, "dependencies")) }
    }
    if (Nameds.isNotPlugins(project)) {
        apply plugin: "publish.dependency"
    }
    apply plugin: "replace.dependency"
}

task clean(type: Delete) {
    delete rootProject.buildDir
}